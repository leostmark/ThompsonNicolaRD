<Activity mc:Ignorable="sap sap2010 sads" x:Class="ActivityBuilder"
 xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities"
 xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:esri="http://schemas.esri.com/arcgis/client/2009"
 xmlns:gcx="http://apis.geocortex.com/2009"
 xmlns:gwa="clr-namespace:Geocortex.Workflow.Activities;assembly=Geocortex.Workflow.Activities"
 xmlns:gwa1="clr-namespace:Geocortex.Workflow.Activities;assembly=Geocortex.Workflow"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities"
 xmlns:sads="http://schemas.microsoft.com/netfx/2010/xaml/activities/debugger"
 xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation"
 xmlns:sap2010="http://schemas.microsoft.com/netfx/2010/xaml/activities/presentation"
 xmlns:scg="clr-namespace:System.Collections.Generic;assembly=mscorlib"
 xmlns:sco="clr-namespace:System.Collections.ObjectModel;assembly=mscorlib"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <x:Members>
    <x:Property Name="GeometryInput" Type="InArgument(esri:Geometry)" />
    <x:Property Name="GeometryServiceUrl" Type="InArgument(x:String)" />
    <x:Property Name="FILL_OPACITY_BUFFER" Type="InArgument(x:Double)" />
    <x:Property Name="BORDER_WIDTH_BUFFER" Type="InArgument(x:Double)" />
    <x:Property Name="BORDER_COLORNAME_BUFFER" Type="InArgument(x:String)" />
    <x:Property Name="FILL_COLORNAME_BUFFER" Type="InArgument(x:String)" />
    <x:Property Name="BUFFER_GRAPHICS_ID" Type="InArgument(x:String)" />
    <x:Property Name="USERGEO_GRAPHICS_ID" Type="InArgument(x:String)" />
    <x:Property Name="FILL_OPACITY_USERGEO" Type="InArgument(x:Double)" />
    <x:Property Name="BORDER_WIDTH_USERGEO" Type="InArgument(x:Double)" />
    <x:Property Name="BORDER_COLORNAME_USERGEO" Type="InArgument(x:String)" />
    <x:Property Name="FILL_COLORNAME_USERGEO" Type="InArgument(x:String)" />
  </x:Members>
  <mva:VisualBasic.Settings>
    <x:Null />
  </mva:VisualBasic.Settings>
  <sap2010:WorkflowViewState.IdRef>ActivityBuilder_1</sap2010:WorkflowViewState.IdRef>
  <TextExpression.NamespacesForImplementation>
    <sco:Collection x:TypeArguments="x:String">
      <x:String>System.Activities.XamlIntegration</x:String>
      <x:String>System.Activities.Validation</x:String>
      <x:String>System.Activities</x:String>
      <x:String>System.Activities.Statements</x:String>
      <x:String>System.Activities.Expressions</x:String>
      <x:String>ESRI.ArcGIS.Client</x:String>
      <x:String>ESRI.ArcGIS.Client.Geometry</x:String>
      <x:String>ESRI.ArcGIS.Client.Tasks</x:String>
      <x:String>Geocortex.Core.Extensions</x:String>
      <x:String>Geocortex.Workflow.Activities</x:String>
      <x:String>Geocortex.Forms.Client</x:String>
      <x:String>Geocortex.Forms.Client.Items</x:String>
      <x:String>Geocortex.Reporting</x:String>
      <x:String>System</x:String>
      <x:String>Microsoft.VisualBasic.Activities</x:String>
      <x:String>System.Collections.Generic</x:String>
      <x:String>System.Linq</x:String>
      <x:String>System.Windows.Markup</x:String>
      <x:String>System.Windows</x:String>
      <x:String>System.Windows.Threading</x:String>
      <x:String>ESRI.ArcGIS.Client.Symbols</x:String>
      <x:String>System.Windows.Media</x:String>
      <x:String>System.Windows.Media.Animation</x:String>
      <x:String>System.Windows.Media.Composition</x:String>
      <x:String>Microsoft.VisualBasic.CompilerServices</x:String>
    </sco:Collection>
  </TextExpression.NamespacesForImplementation>
  <TextExpression.ReferencesForImplementation>
    <sco:Collection x:TypeArguments="AssemblyReference">
      <AssemblyReference>System.Activities</AssemblyReference>
      <AssemblyReference>ESRI.ArcGIS.Client</AssemblyReference>
      <AssemblyReference>Geocortex.Core</AssemblyReference>
      <AssemblyReference>Geocortex.Workflow</AssemblyReference>
      <AssemblyReference>Geocortex.EssentialsWpfApi</AssemblyReference>
      <AssemblyReference>Geocortex.Reporting</AssemblyReference>
      <AssemblyReference>System.Core</AssemblyReference>
      <AssemblyReference>System</AssemblyReference>
      <AssemblyReference>mscorlib</AssemblyReference>
      <AssemblyReference>PresentationFramework</AssemblyReference>
      <AssemblyReference>WindowsBase</AssemblyReference>
      <AssemblyReference>PresentationCore</AssemblyReference>
      <AssemblyReference>System.Xaml</AssemblyReference>
      <AssemblyReference>System.Windows.Presentation</AssemblyReference>
      <AssemblyReference>System.ComponentModel.Composition</AssemblyReference>
      <AssemblyReference>System.ServiceModel</AssemblyReference>
      <AssemblyReference>System.Reactive.Core</AssemblyReference>
      <AssemblyReference>Microsoft.VisualBasic</AssemblyReference>
    </sco:Collection>
  </TextExpression.ReferencesForImplementation>
  <Flowchart sap2010:Annotation.AnnotationText="Take Buffere Distance and Unit and an option to add buffer markup from the user, and Add Buffer Markup and the user drawn geometry to the map, and pass the buffered geometry to the client for the next step.&#xA;&#xA;&#xA;Configured Variables:&#xA;1. BORDER_COLORNAME_BUFFER&#xA;2. BORDER_WIDTH_BUFFER&#xA;3. BORDER_COLORNAME_BUFFER&#xA;4. FILL_OPACITY_BUFFER&#xA;5. BORDER_COLORNAME_USERGEO&#xA;6. BORDER_WIDTH_USERGEO&#xA;7. BORDER_COLORNAME_USERGEO&#xA;8. FILL_OPACITY_USERGEO&#xA;&#xA;9. BUFFER_GRAPHICS_ID: &quot;TempestBufferMarkup&quot;&#xA;10.USERGEO_GRAPHICS_ID: &quot;TempestUserGeoMarkup&quot;&#xA;&#xA;&#xA;Buffer Units are configured on Display Form itself." DisplayName="Main Flowchart" sap2010:WorkflowViewState.IdRef="Flowchart_1">
    <Flowchart.Variables>
      <Variable x:TypeArguments="x:String" Name="bufferDist_input" />
      <Variable x:TypeArguments="x:Object" Name="bufferUnit_InputObj" />
      <Variable x:TypeArguments="x:String" Default="Buffer Options" Name="WF_TITLE" />
      <Variable x:TypeArguments="x:String" Default="TempestBuffer.xaml" Name="WF_NAME" />
      <Variable x:TypeArguments="x:String" Default="ModalWindowNoCloseButton" Name="WORKFLOW_CONTAINER_NAME" />
      <Variable x:TypeArguments="x:String" Name="btnClicked" />
      <Variable x:TypeArguments="esri:FeatureSet" Name="fsBuffer" />
      <Variable x:TypeArguments="esri:SpatialReference" Name="srMap" />
      <Variable x:TypeArguments="esri:Geometry" Name="unionedGeometry" />
      <Variable x:TypeArguments="x:Boolean" Name="boolAddBufferMarkup" />
      <Variable x:TypeArguments="esri:FeatureSet" Name="fsGeometryDrawn" />
    </Flowchart.Variables>
    <Flowchart.StartNode>
      <FlowStep x:Name="__ReferenceID9" sap2010:WorkflowViewState.IdRef="FlowStep_8">
        <Sequence DisplayName="Add Graphic for User Drawn Geometry" sap2010:WorkflowViewState.IdRef="Sequence_7">
          <Sequence.Variables>
            <Variable x:TypeArguments="x:String" Name="geoType" />
            <Variable x:TypeArguments="esri:Geometry" Name="GeometryInput_Point" />
          </Sequence.Variables>
          <Assign DisplayName="Set geoType" sap2010:WorkflowViewState.IdRef="Assign_20">
            <Assign.To>
              <OutArgument x:TypeArguments="x:String">[geoType]</OutArgument>
            </Assign.To>
            <Assign.Value>
              <InArgument x:TypeArguments="x:String">[String.Format("{0}", GeometryInput.GetType())]</InArgument>
            </Assign.Value>
          </Assign>
          <Switch x:TypeArguments="x:String" sap2010:Annotation.AnnotationText="Add the Graphic a user drawn on the map." DisplayName="Add the Geometry to the map " Expression="[geoType]" sap2010:WorkflowViewState.IdRef="Switch`1_1">
            <Sequence x:Key="ESRI.ArcGIS.Client.Geometry.MapPoint" DisplayName="Seq-Create a temp envelopt" sap2010:WorkflowViewState.IdRef="Sequence_10">
              <Sequence.Variables>
                <Variable x:TypeArguments="esri:MapPoint" Name="mapPt" />
              </Sequence.Variables>
              <gwa:Cast x:TypeArguments="esri:MapPoint" sap2010:WorkflowViewState.IdRef="Cast`1_6" To="[mapPt]">
                <gwa:Cast.Value>
                  <InArgument x:TypeArguments="x:Object">[GeometryInput]</InArgument>
                </gwa:Cast.Value>
              </gwa:Cast>
              <gwa:Cast x:TypeArguments="esri:Geometry" DisplayName="Set New Geometry" sap2010:WorkflowViewState.IdRef="Cast`1_7" To="[GeometryInput_Point]">
                <gwa:Cast.Value>
                  <InArgument x:TypeArguments="esri:Envelope">[New ESRI.ArcGIS.Client.Geometry.Envelope(mapPt.X,mapPt.Y, mapPt.X+1, mapPt.Y+1)]</InArgument>
                </gwa:Cast.Value>
              </gwa:Cast>
              <Assign DisplayName="Set SR" sap2010:WorkflowViewState.IdRef="Assign_23">
                <Assign.To>
                  <OutArgument x:TypeArguments="esri:SpatialReference">[GeometryInput_Point.SpatialReference]</OutArgument>
                </Assign.To>
                <Assign.Value>
                  <InArgument x:TypeArguments="esri:SpatialReference">[mapPT.SpatialReference]</InArgument>
                </Assign.Value>
              </Assign>
              <Assign DisplayName="Set fsGeometryDrawn" sap2010:WorkflowViewState.IdRef="Assign_24">
                <Assign.To>
                  <OutArgument x:TypeArguments="esri:FeatureSet">[fsGeometryDrawn]</OutArgument>
                </Assign.To>
                <Assign.Value>
                  <InArgument x:TypeArguments="esri:FeatureSet">[New FeatureSet(GeometryInput_Point)]</InArgument>
                </Assign.Value>
              </Assign>
              <gwa:UpdateGraphicsLayer sap2010:Annotation.AnnotationText="Add Graphic for a geometry a user drawn. Used the configured values.&#xA;&#xA;1.BORDER_COLORNAME_USERGEO&#xA;2. BORDER_WIDTH_USERGEO&#xA;3. BORDER_COLORNAME_USERGEO&#xA;4. FILL_OPACITY_USERGEO&#xA;&#xA;5.USERGEO_GRAPHICS_ID" DisplayName="Add - Drawn Geometry Markup" FeatureSet="[fsGeometryDrawn]" GraphicsLayerId="[USERGEO_GRAPHICS_ID]" sap2010:WorkflowViewState.IdRef="UpdateGraphicsLayer_7" RemoveAllFeatures="False" Renderer="[New ESRI.ArcGIS.Client.SimpleRenderer() With { .Symbol = new ESRI.ArcGIS.Client.Symbols.SimpleFillSymbol() With { .BorderBrush = new System.Windows.Media.SolidColorBrush(CType(ColorConverter.ConvertFromString(BORDER_COLORNAME_USERGEO), Color)), .BorderThickness = BORDER_WIDTH_USERGEO, .Fill = new System.Windows.Media.SolidColorBrush(CType(ColorConverter.ConvertFromString(FILL_COLORNAME_USERGEO), Color)) With { .Opacity = FILL_OPACITY_USERGEO} } }]" />
            </Sequence>
            <Sequence x:Key="ESRI.ArcGIS.Client.Geometry.Polygon" DisplayName="Seq - Polygon" sap2010:WorkflowViewState.IdRef="Sequence_11">
              <Assign DisplayName="Set fsGeometryDrawn" sap2010:WorkflowViewState.IdRef="Assign_25">
                <Assign.To>
                  <OutArgument x:TypeArguments="esri:FeatureSet">[fsGeometryDrawn]</OutArgument>
                </Assign.To>
                <Assign.Value>
                  <InArgument x:TypeArguments="esri:FeatureSet">[New FeatureSet(GeometryInput)]</InArgument>
                </Assign.Value>
              </Assign>
              <gwa:UpdateGraphicsLayer sap2010:Annotation.AnnotationText="Add Graphic for a geometry a user drawn. Used the configured values.&#xA;&#xA;1.BORDER_COLORNAME_USERGEO&#xA;2. BORDER_WIDTH_USERGEO&#xA;3. BORDER_COLORNAME_USERGEO&#xA;4. FILL_OPACITY_USERGEO&#xA;&#xA;5.USERGEO_GRAPHICS_ID" DisplayName="Add - Drawn Geometry Markup" FeatureSet="[fsGeometryDrawn]" GraphicsLayerId="[USERGEO_GRAPHICS_ID]" sap2010:WorkflowViewState.IdRef="UpdateGraphicsLayer_8" RemoveAllFeatures="False" Renderer="[New ESRI.ArcGIS.Client.SimpleRenderer() With { .Symbol = new ESRI.ArcGIS.Client.Symbols.SimpleFillSymbol() With { .BorderBrush = new System.Windows.Media.SolidColorBrush(CType(ColorConverter.ConvertFromString(BORDER_COLORNAME_USERGEO), Color)), .BorderThickness = BORDER_WIDTH_USERGEO, .Fill = new System.Windows.Media.SolidColorBrush(CType(ColorConverter.ConvertFromString(FILL_COLORNAME_USERGEO), Color)) With { .Opacity = FILL_OPACITY_USERGEO} } }]" />
            </Sequence>
            <Sequence x:Key="ESRI.ArcGIS.Client.Geometry.Polyline" DisplayName="Seq - Draw Line" sap2010:WorkflowViewState.IdRef="Sequence_12">
              <Assign DisplayName="Set fsGeometryDrawn" sap2010:WorkflowViewState.IdRef="Assign_26">
                <Assign.To>
                  <OutArgument x:TypeArguments="esri:FeatureSet">[fsGeometryDrawn]</OutArgument>
                </Assign.To>
                <Assign.Value>
                  <InArgument x:TypeArguments="esri:FeatureSet">[New FeatureSet(GeometryInput)]</InArgument>
                </Assign.Value>
              </Assign>
              <gwa:UpdateGraphicsLayer sap2010:Annotation.AnnotationText="Add Graphic for a geometry a user drawn. Used the configured values.&#xA;&#xA;1. BORDER_WIDTH_USERGEO&#xA;2. FILL_COLORNAME_USERGEO&#xA;&#xA;5.USERGEO_GRAPHICS_ID" DisplayName="Add - Drawn Geometry Markup" FeatureSet="[fsGeometryDrawn]" GraphicsLayerId="[USERGEO_GRAPHICS_ID]" sap2010:WorkflowViewState.IdRef="UpdateGraphicsLayer_9" RemoveAllFeatures="False" Renderer="[New ESRI.ArcGIS.Client.SimpleRenderer() With { .Symbol = new ESRI.ArcGIS.Client.Symbols.SimpleLineSymbol() With { .Color = new System.Windows.Media.SolidColorBrush(CType(ColorConverter.ConvertFromString(FILL_COLORNAME_USERGEO), Color)), .Width = BORDER_WIDTH_USERGEO, .Style = ESRI.ArcGIS.Client.Symbols.SimpleLineSymbol.LineStyle.Solid } }]" />
            </Sequence>
          </Switch>
        </Sequence>
        <FlowStep.Next>
          <FlowDecision x:Name="__ReferenceID0" Condition="[GeometryInput IsNot Nothing]" sap2010:WorkflowViewState.IdRef="FlowDecision_1">
            <FlowDecision.True>
              <FlowStep x:Name="__ReferenceID4" sap2010:WorkflowViewState.IdRef="FlowStep_1">
                <Sequence DisplayName="Form" sap2010:WorkflowViewState.IdRef="Sequence_2">
                  <Assign DisplayName="Set boolAddBufferMarkup as Default" sap2010:WorkflowViewState.IdRef="Assign_6">
                    <Assign.To>
                      <OutArgument x:TypeArguments="x:Boolean">[boolAddBufferMarkup]</OutArgument>
                    </Assign.To>
                    <Assign.Value>
                      <InArgument x:TypeArguments="x:Boolean">False</InArgument>
                    </Assign.Value>
                  </Assign>
                  <Parallel sap2010:WorkflowViewState.IdRef="Parallel_5">
                    <gwa:ConfigureWorkflowContainer sap2010:WorkflowViewState.IdRef="ConfigureWorkflowContainer_1" IsBusy="[True]" Message="Loading..." ShowContainer="[True]" Title="[WF_TITLE]" WorkflowContainerName="[WORKFLOW_CONTAINER_NAME]" />
                    <gwa:GetMapInfo Height="{x:Null}" Scale="{x:Null}" Width="{x:Null}" sap2010:WorkflowViewState.IdRef="GetMapInfo_1" SpatialReference="[srMap]" />
                  </Parallel>
                  <Parallel DisplayName="UI - FORM" sap2010:WorkflowViewState.IdRef="Parallel_1">
                    <gwa:DisplayForm ButtonResultValue="[btnClicked]" DisplayName="DisplayForm - Buffer Distance/Unit" FormDefinition="&lt;FormDefinition xmlns=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client&quot; xmlns:i=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;&lt;ContainerFormItem xmlns:a=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items&quot;&gt;&lt;a:ArgumentName/&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID&gt;Group1&lt;/a:ItemID&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:Description&gt;Note: a negative buffer can only be used with the Tempest Buffer Polygon tool.&lt;/a:Description&gt;&lt;a:FormItems&gt;&lt;a:FormItem i:type=&quot;a:TextBoxFormItem&quot;&gt;&lt;a:ArgumentName&gt;bufferDistInput&lt;/a:ArgumentName&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID&gt;TextBox1&lt;/a:ItemID&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;&gt;&lt;b:ValidationItem i:type=&quot;b:RegexValidationItem&quot;&gt;&lt;b:Message&gt;Distance must be number.&lt;/b:Message&gt;&lt;b:Expression&gt;^[+-]?\d*(\.\d+)?$&lt;/b:Expression&gt;&lt;b:IgnoreCase&gt;false&lt;/b:IgnoreCase&gt;&lt;/b:ValidationItem&gt;&lt;/a:ValidationItems&gt;&lt;a:DefaultText/&gt;&lt;a:InputScope&gt;Default&lt;/a:InputScope&gt;&lt;a:Label&gt;&lt;a:ArgumentName/&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID/&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:LabelForItemID&gt;TextBox1&lt;/a:LabelForItemID&gt;&lt;a:Text&gt;Distance:&lt;/a:Text&gt;&lt;/a:Label&gt;&lt;a:ReadOnly&gt;false&lt;/a:ReadOnly&gt;&lt;a:TextboxWidth&gt;200&lt;/a:TextboxWidth&gt;&lt;/a:FormItem&gt;&lt;a:FormItem i:type=&quot;a:ComboBoxFormItem&quot;&gt;&lt;a:ArgumentName&gt;bufferUnitInput&lt;/a:ArgumentName&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID&gt;ComboBox1&lt;/a:ItemID&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:DataItems&gt;&lt;DataItem&gt;&lt;Display&gt;Meters (m)&lt;/Display&gt;&lt;TypeName&gt;System.String&lt;/TypeName&gt;&lt;Value i:type=&quot;b:string&quot; xmlns:b=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;Meter&lt;/Value&gt;&lt;/DataItem&gt;&lt;DataItem&gt;&lt;Display&gt;Kilometers (km)&lt;/Display&gt;&lt;TypeName&gt;System.String&lt;/TypeName&gt;&lt;Value i:type=&quot;b:string&quot; xmlns:b=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;Kilometer&lt;/Value&gt;&lt;/DataItem&gt;&lt;DataItem&gt;&lt;Display&gt;Feet (ft)&lt;/Display&gt;&lt;TypeName&gt;System.String&lt;/TypeName&gt;&lt;Value i:type=&quot;b:string&quot; xmlns:b=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;Foot&lt;/Value&gt;&lt;/DataItem&gt;&lt;DataItem&gt;&lt;Display&gt;Yards (yd)&lt;/Display&gt;&lt;TypeName&gt;System.String&lt;/TypeName&gt;&lt;Value i:type=&quot;b:string&quot; xmlns:b=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;InternationalYard&lt;/Value&gt;&lt;/DataItem&gt;&lt;DataItem&gt;&lt;Display&gt;Miles (mi)&lt;/Display&gt;&lt;TypeName&gt;System.String&lt;/TypeName&gt;&lt;Value i:type=&quot;b:string&quot; xmlns:b=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;StatuteMile&lt;/Value&gt;&lt;/DataItem&gt;&lt;DataItem&gt;&lt;Display&gt;Nautical Miles (NM)&lt;/Display&gt;&lt;TypeName&gt;System.String&lt;/TypeName&gt;&lt;Value i:type=&quot;b:string&quot; xmlns:b=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;NauticalMile&lt;/Value&gt;&lt;/DataItem&gt;&lt;/a:DataItems&gt;&lt;a:FilterByInputGeometry&gt;false&lt;/a:FilterByInputGeometry&gt;&lt;a:Label&gt;&lt;a:ArgumentName/&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID/&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:LabelForItemID&gt;ComboBox1&lt;/a:LabelForItemID&gt;&lt;a:Text&gt;Units&lt;/a:Text&gt;&lt;/a:Label&gt;&lt;a:LayerSourceJson i:nil=&quot;true&quot;/&gt;&lt;a:ProxyUrl/&gt;&lt;a:QueryCascadingID/&gt;&lt;a:QueryDisplayOutputField/&gt;&lt;a:QueryServiceUrl/&gt;&lt;a:QueryValueOutputField/&gt;&lt;a:QueryWhereClause/&gt;&lt;a:SelectText/&gt;&lt;a:SelectedValue i:nil=&quot;true&quot;/&gt;&lt;a:Token/&gt;&lt;/a:FormItem&gt;&lt;a:FormItem i:type=&quot;a:CheckBoxFormItem&quot;&gt;&lt;a:ArgumentName&gt;cbAddBufferMarkup&lt;/a:ArgumentName&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID&gt;CheckBox1&lt;/a:ItemID&gt;&lt;a:ToolTip&gt;Check to add buffer markup on the map.&lt;/a:ToolTip&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:Checked&gt;true&lt;/a:Checked&gt;&lt;a:Text&gt;Add Buffer to Markup&lt;/a:Text&gt;&lt;a:TextLocation&gt;Right&lt;/a:TextLocation&gt;&lt;/a:FormItem&gt;&lt;/a:FormItems&gt;&lt;a:MaxWidth&gt;INF&lt;/a:MaxWidth&gt;&lt;a:Orientation&gt;Vertical&lt;/a:Orientation&gt;&lt;a:VisibleControlID i:nil=&quot;true&quot;/&gt;&lt;a:VisibleControlValue i:nil=&quot;true&quot;/&gt;&lt;/ContainerFormItem&gt;&lt;KnownTypes xmlns:a=&quot;http://schemas.microsoft.com/2003/10/Serialization/Arrays&quot;&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.ContainerFormItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.TextBoxFormItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.Validation.RegexValidationItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.ComboBoxFormItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.CheckBoxFormItem&lt;/a:string&gt;&lt;/KnownTypes&gt;&lt;MaxHeight&gt;800&lt;/MaxHeight&gt;&lt;MaxWidth&gt;1000&lt;/MaxWidth&gt;&lt;Title/&gt;&lt;Version&gt;1.1&lt;/Version&gt;&lt;/FormDefinition&gt;" sap2010:WorkflowViewState.IdRef="DisplayForm_1" WorkflowContainerName="[WORKFLOW_CONTAINER_NAME]">
                      <gwa:DisplayForm.Body>
                        <ActivityAction x:TypeArguments="gcx:FormDefinition">
                          <ActivityAction.Argument>
                            <DelegateInArgument x:TypeArguments="gcx:FormDefinition" Name="form" />
                          </ActivityAction.Argument>
                          <Sequence DisplayName="RuntimeModifications" sap2010:WorkflowViewState.IdRef="Sequence_1">
                            <Assign DisplayName="Set Form Title" sap2010:WorkflowViewState.IdRef="Assign_18">
                              <Assign.To>
                                <OutArgument x:TypeArguments="x:String">[form.title]</OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="x:String">[WF_TITLE]</InArgument>
                              </Assign.Value>
                            </Assign>
                            <If Condition="[bufferDist_input IsNot Nothing]" DisplayName="Keep Distance on UI" sap2010:WorkflowViewState.IdRef="If_4">
                              <If.Then>
                                <Assign DisplayName="Buffer Distance" sap2010:WorkflowViewState.IdRef="Assign_4">
                                  <Assign.To>
                                    <OutArgument x:TypeArguments="x:String">[form.Find(Of TextBoxFormItem)("TextBox1").DefaultText]</OutArgument>
                                  </Assign.To>
                                  <Assign.Value>
                                    <InArgument x:TypeArguments="x:String">[bufferDist_input]</InArgument>
                                  </Assign.Value>
                                </Assign>
                              </If.Then>
                            </If>
                            <Assign DisplayName="Buffer Unit" sap2010:WorkflowViewState.IdRef="Assign_5">
                              <Assign.To>
                                <OutArgument x:TypeArguments="x:Object">[form.Find(Of ComboBoxFormItem)("ComboBox1").SelectedValue]</OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="x:Object">[bufferUnit_InputObj]</InArgument>
                              </Assign.Value>
                            </Assign>
                          </Sequence>
                        </ActivityAction>
                      </gwa:DisplayForm.Body>
                      <gwa:DisplayForm.Buttons>
                        <gcx:FormButton CausesValidation="False" IsDefault="False" Label="Preview Buffer" Value="preview" />
                        <gcx:FormButton CausesValidation="True" IsDefault="True" Label="OK" Value="continue" />
                        <gcx:FormButton CausesValidation="False" IsDefault="False" Label="Cancel" Value="cancel" />
                      </gwa:DisplayForm.Buttons>
                      <gwa:DisplayForm.FormInArguments>
                        <gwa1:ArgumentWrapper x:TypeArguments="InArgument(scg:IEnumerable(gcx:DataItem))" IsRequired="False" Name="ComboBox1">
                          <gwa1:ArgumentWrapper.Argument>
                            <InArgument x:TypeArguments="scg:IEnumerable(gcx:DataItem)" />
                          </gwa1:ArgumentWrapper.Argument>
                        </gwa1:ArgumentWrapper>
                      </gwa:DisplayForm.FormInArguments>
                      <gwa:DisplayForm.FormOutArguments>
                        <gwa1:ArgumentWrapper x:TypeArguments="OutArgument" IsRequired="False" Name="bufferDistInput">
                          <gwa1:ArgumentWrapper.Argument>
                            <OutArgument x:TypeArguments="x:String">[bufferDist_input]</OutArgument>
                          </gwa1:ArgumentWrapper.Argument>
                        </gwa1:ArgumentWrapper>
                        <gwa1:ArgumentWrapper x:TypeArguments="OutArgument" IsRequired="False" Name="bufferUnitInput">
                          <gwa1:ArgumentWrapper.Argument>
                            <OutArgument x:TypeArguments="x:Object">[bufferUnit_InputObj]</OutArgument>
                          </gwa1:ArgumentWrapper.Argument>
                        </gwa1:ArgumentWrapper>
                        <gwa1:ArgumentWrapper x:TypeArguments="OutArgument" IsRequired="False" Name="cbAddBufferMarkup">
                          <gwa1:ArgumentWrapper.Argument>
                            <OutArgument x:TypeArguments="x:Boolean">[boolAddBufferMarkup]</OutArgument>
                          </gwa1:ArgumentWrapper.Argument>
                        </gwa1:ArgumentWrapper>
                      </gwa:DisplayForm.FormOutArguments>
                    </gwa:DisplayForm>
                  </Parallel>
                  <Assign DisplayName="Set Spatial Reference" sap2010:WorkflowViewState.IdRef="Assign_3">
                    <Assign.To>
                      <OutArgument x:TypeArguments="esri:SpatialReference">[GeometryInput.SpatialReference]</OutArgument>
                    </Assign.To>
                    <Assign.Value>
                      <InArgument x:TypeArguments="esri:SpatialReference">[srMap]</InArgument>
                    </Assign.Value>
                  </Assign>
                  <If Condition="[btnClicked = &quot;cancel&quot;]" DisplayName="Cancel" sap2010:WorkflowViewState.IdRef="If_2">
                    <If.Then>
                      <Sequence sap2010:WorkflowViewState.IdRef="Sequence_8">
                        <gwa:RunExternalCommand CommandName="ClearTempestBufferMarkup" DisplayName="Clear Buffer Markup Command" sap2010:WorkflowViewState.IdRef="RunExternalCommand_4" />
                        <gwa:ExitWorkflow sap2010:WorkflowViewState.IdRef="ExitWorkflow_2" />
                      </Sequence>
                    </If.Then>
                  </If>
                  <gwa:Log DisplayName="Log - After Form" sap2010:WorkflowViewState.IdRef="Log_2" Message="[String.Format(&quot;{0}----Chk point 1 after Form. Buffer: ({1})({2}). After setting SR, geometry Input: ({3})&quot;, Environment.NewLine,  bufferDist_input, bufferUnit_InputObj, GeometryInput.ToJson)]" />
                </Sequence>
                <FlowStep.Next>
                  <FlowSwitch x:TypeArguments="x:String" x:Name="__ReferenceID5" DisplayName="Action to Do" Expression="[btnClicked]" sap2010:WorkflowViewState.IdRef="FlowSwitch`1_1">
                    <FlowSwitch.Default>
                      <FlowStep x:Name="__ReferenceID2" sap2010:WorkflowViewState.IdRef="FlowStep_5">
                        <Sequence DisplayName="Get Buffered Geometry" sap2010:WorkflowViewState.IdRef="Sequence_5">
                          <Sequence.Variables>
                            <Variable x:TypeArguments="x:Double" Name="bufferDistance" />
                            <Variable x:TypeArguments="x:String" Name="bufferUnit" />
                          </Sequence.Variables>
                          <If sap2010:Annotation.AnnotationText="No Buffer distance, use 0 as the default" Condition="[bufferDist_input IsNot Nothing AndAlso bufferDist_input.Trim = &quot;&quot;]" DisplayName="Check user input for the Buffer Distance." sap2010:WorkflowViewState.IdRef="If_1">
                            <If.Then>
                              <gwa:Cast x:TypeArguments="x:Double" DisplayName="bufferDistance" sap2010:WorkflowViewState.IdRef="Cast`1_3" To="[bufferDistance]">
                                <gwa:Cast.Value>
                                  <InArgument x:TypeArguments="x:Object">[0]</InArgument>
                                </gwa:Cast.Value>
                              </gwa:Cast>
                            </If.Then>
                            <If.Else>
                              <gwa:Cast x:TypeArguments="x:Double" DisplayName="bufferDistance" sap2010:WorkflowViewState.IdRef="Cast`1_1" To="[bufferDistance]">
                                <gwa:Cast.Value>
                                  <InArgument x:TypeArguments="x:Object">[bufferDist_input]</InArgument>
                                </gwa:Cast.Value>
                              </gwa:Cast>
                            </If.Else>
                          </If>
                          <gwa:Cast x:TypeArguments="x:String" DisplayName="bufferUnit" sap2010:WorkflowViewState.IdRef="Cast`1_2" To="[bufferUnit]">
                            <gwa:Cast.Value>
                              <InArgument x:TypeArguments="x:String">[String.Format("{0}", bufferUnit_InputObj)]</InArgument>
                            </gwa:Cast.Value>
                          </gwa:Cast>
                          <gwa:Log DisplayName="Log - Before Buffer Task" sap2010:WorkflowViewState.IdRef="Log_3" Message="[String.Format(&quot;{0}----Chk point 2 before Buffer Task. Buffer: ({1})({2}). Geometry Service Url: ({3})&quot;, Environment.NewLine,  bufferDistance, bufferUnit, GeometryServiceUrl)]" />
                          <gwa:BufferTask sap2010:Annotation.AnnotationText="Output: Unioned Result on OutArgument" Distance="[bufferDistance]" Geometry="[GeometryInput]" GeometryServiceUrl="[GeometryServiceUrl]" sap2010:WorkflowViewState.IdRef="BufferTask_1" UnionResults="True" UnionedResult="[unionedGeometry]" Unit="[CType([Enum].Parse(GetType(ESRI.ArcGIS.Client.Tasks.LinearUnit), bufferUnit), ESRI.ArcGIS.Client.Tasks.LinearUnit)]" />
                          <Assign DisplayName="Set fsBuffer" sap2010:WorkflowViewState.IdRef="Assign_2">
                            <Assign.To>
                              <OutArgument x:TypeArguments="esri:FeatureSet">[fsBuffer]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="esri:FeatureSet">[New FeatureSet(unionedGeometry)]</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                        <FlowStep.Next>
                          <FlowDecision x:Name="__ReferenceID8" Condition="[btnClicked = &quot;preview&quot; OrElse boolAddBufferMarkup = True]" sap2010:WorkflowViewState.IdRef="FlowDecision_2">
                            <FlowDecision.True>
                              <FlowStep x:Name="__ReferenceID6" sap2010:WorkflowViewState.IdRef="FlowStep_3">
                                <Sequence sap2010:Annotation.AnnotationText="Add Buffer Graphic&#xA;Use the Configured Values for Renderer:&#xA;1. BORDER_COLORNAME_BUFFER&#xA;2. BORDER_WIDTH_BUFFER&#xA;3. BORDER_COLORNAME_BUFFER&#xA;4. FILL_OPACITY_BUFFER&#xA;5. BUFFER_GRAPHICS_ID&#xA;" DisplayName="Preview - Buffer" sap2010:WorkflowViewState.IdRef="Sequence_4">
                                  <Parallel DisplayName="Parallel - Add Buffer and Geometry Graphic to Map" sap2010:WorkflowViewState.IdRef="Parallel_4">
                                    <gwa:UpdateGraphicsLayer DisplayName="Add - Buffer Markup " FeatureSet="[fsBuffer]" GraphicsLayerId="[BUFFER_GRAPHICS_ID]" sap2010:WorkflowViewState.IdRef="UpdateGraphicsLayer_1" RemoveAllFeatures="False" Renderer="[New ESRI.ArcGIS.Client.SimpleRenderer() With { .Symbol = new ESRI.ArcGIS.Client.Symbols.SimpleFillSymbol() With { .BorderBrush = new System.Windows.Media.SolidColorBrush(CType(ColorConverter.ConvertFromString(BORDER_COLORNAME_BUFFER), Color)), .BorderThickness = BORDER_WIDTH_BUFFER, .Fill = new System.Windows.Media.SolidColorBrush(CType(ColorConverter.ConvertFromString(FILL_COLORNAME_BUFFER), Color)) With { .Opacity = FILL_OPACITY_BUFFER } } }]" />
                                  </Parallel>
                                </Sequence>
                                <FlowStep.Next>
                                  <FlowSwitch x:TypeArguments="x:String" x:Name="__ReferenceID1" DisplayName="Preview or Continue" Expression="[btnClicked]" sap2010:WorkflowViewState.IdRef="FlowSwitch`1_2">
                                    <FlowSwitch.Default>
                                      <FlowStep x:Name="__ReferenceID7" sap2010:WorkflowViewState.IdRef="FlowStep_2">
                                        <Sequence sap2010:Annotation.AnnotationText="Pass the buffered geometry to the client commands to handle to update the results, and highlight features, and update Tempest DB." DisplayName="Continue" sap2010:WorkflowViewState.IdRef="Sequence_3">
                                          <gwa:RunExternalCommand CommandName="TempestIdentifyPolygon_WF" CommandParameter="[unionedGeometry]" DisplayName="Indentify with Geometry" sap2010:WorkflowViewState.IdRef="RunExternalCommand_1" />
                                        </Sequence>
                                      </FlowStep>
                                    </FlowSwitch.Default>
                                    <x:Reference>__ReferenceID0<x:Key>preview</x:Key></x:Reference>
                                  </FlowSwitch>
                                </FlowStep.Next>
                              </FlowStep>
                            </FlowDecision.True>
                            <FlowDecision.False>
                              <x:Reference>__ReferenceID1</x:Reference>
                            </FlowDecision.False>
                          </FlowDecision>
                        </FlowStep.Next>
                      </FlowStep>
                    </FlowSwitch.Default>
                    <FlowStep x:Key="cancel" x:Name="__ReferenceID3" sap2010:WorkflowViewState.IdRef="FlowStep_4">
                      <gwa:ExitWorkflow sap2010:WorkflowViewState.IdRef="ExitWorkflow_1" />
                    </FlowStep>
                    <x:Reference>__ReferenceID2<x:Key>preview</x:Key></x:Reference>
                  </FlowSwitch>
                </FlowStep.Next>
              </FlowStep>
            </FlowDecision.True>
            <FlowDecision.False>
              <x:Reference>__ReferenceID3</x:Reference>
            </FlowDecision.False>
          </FlowDecision>
        </FlowStep.Next>
      </FlowStep>
    </Flowchart.StartNode>
    <x:Reference>__ReferenceID4</x:Reference>
    <x:Reference>__ReferenceID0</x:Reference>
    <x:Reference>__ReferenceID3</x:Reference>
    <x:Reference>__ReferenceID5</x:Reference>
    <x:Reference>__ReferenceID6</x:Reference>
    <x:Reference>__ReferenceID7</x:Reference>
    <x:Reference>__ReferenceID2</x:Reference>
    <x:Reference>__ReferenceID1</x:Reference>
    <x:Reference>__ReferenceID8</x:Reference>
    <x:Reference>__ReferenceID9</x:Reference>
    <sads:DebugSymbol.Symbol>d2xEOlxtZ2ltXFNlcnZpY2VzXExhdGl0dWRlU2VydmljZXNcVGVtcGVzdEh0bWw1XF9UcnVua1xTaXRlXEdjeFRlbXBlc3RcUmVzb3VyY2VzXFdvcmtmbG93c1xUZW1wZXN0QnVmZmVyLnhhbWyCAVUD9QIPAgEBWTRZRAIBBFo0WkgCAQNbNFtOAgECZQmqARQCAXmsATusAVoCAXjcAhfcAlwCAXevARGTAhwCATuVAniVAoYBAgE5mAIZvAIkAgEWvgJLvgKRAQIBE8cCjwHHAp0BAgERygIpzAI0AgENwQIhxQIsAgEFagtxFAMBrAFyC6kBFAIBerABE7cBHAIBc7gBE7sBHgIBZ7wBE4ECHgIBSoICE4kCHAIBRYoCE5ECGAIBPpICE5ICugICATydAhusAiACASytAhuxAiYCASeyAhuyArkCAgElswIbswK5AwIBGrQCG7sCJAIBF8sCK8sC7wECAQ7CAiPEAi4CAQZvNm9lAwGvAWw3bEADAa0BcrEBcrwBAgF7cw2SARgDAZEBkwENnQEYAwGHAZ4BDagBGAIBfbUBP7UBRAIBdrIBQLIBVQIBdLkBFbkB9wECAWu6ARW6AaUBAgFovQEVgAInAgFLhwJLhwJSAgFIhAJMhAJsAgFGigIhigJEAgE/jAIXjwIiAgFBkgJrkgK3AgIBPZ0Cdp0CxQECAS2fAh+jAioCATWmAh+qAioCATCvAkavAnECASqtAocBrQKVAQIBKLICe7ICtgICASazAr8BswLVAQIBI7MCfrMCkAECASGzAsACswK2AwIBILMCmgGzAqsBAgEeswKSArMCmAICAR2zAqcCswK6AgIBG7kCTbkCbgIBGbYCTrYCWAIBGMsCfMsCjwECARDLAk/LAmoCAQ/DAiXDAsEFAgEHdw97GgMBqAF8D4ABGgMBoAGBAQ+IARgDAZsBiQEPkAEYAwGYAZEBD5EBwQcDAZIBlAEPmwEYAwGOAZwBD5wBwQcDAYgBnwEPpgEYAwGEAacBD6cBlgYCAX65AYwBuQGYAQIBcrkBe7kBgwECAXG5AdkBuQH0AQIBb7kBpwG5Aa8BAgFuuQG2AbkBwgECAWy6AZkBugGiAQIBab0BhwG9Ad0uAgFmvQGkL70Bvy8CAWS9ATi9AUYCAWL8AUb8AVsCAWDyAUXyAVcCAV73AUX3AVoCAVzDARvgASYCAUyNAhmNArsBAgFDjgIZjgJeAgFCoQJKoQJNAgE4nwKPAZ8CoQECATaoAkqoAlwCATOmAo8BpgKhAQIBMcMCiQHDAp8BAgELwwJswwJ4AgEKwwLqAcMC8QECAQnDAvsBwwK+BQIBCHk6eUkDAasBd2d3cAMBqQF+P36QAQMBowF8hgF8nQEDAaEBhgFHhgFfAwGeAYMBSIMBbgMBnAGOAUGOAWYDAZoBiwFCiwFTAwGZAZEBhQORAZwDAwGWAZEB4QKRAfQCAwGVAZEB5wORAe4DAwGUAZEB+AORAb4HAwGTAZkBQZkBYAMBkAGWAUKWAVMDAY8BnAGFA5wBnAMDAYwBnAHhApwB9AIDAYsBnAHnA5wB7gMDAYoBnAH4A5wBvgcDAYkBpAFBpAFgAwGGAaEBQqEBUwMBhQGnAcgCpwHfAgMBggGnAaQCpwG3AgMBgQGnAaoDpwGxAwMBgAGnAbsDpwGTBgIBf8QBHcsBJgIBWMwBHdcBIgIBUdgBHd8BJgIBTY0CPY0CVwIBRMkBSMkBUgIBWsYBScYBVQIBWcwBK8wBTQIBUs4BIdUBKgIBVN0BSN0BXQIBT9oBSdoBhAECAU7TAUzTAV4CAVbQAU3QAYQBAgFV</sads:DebugSymbol.Symbol>
  </Flowchart>
  <sap2010:WorkflowViewState.ViewStateManager>
    <sap2010:ViewStateManager>
      <sap2010:ViewStateData Id="Assign_20" sap:VirtualizedContainerService.HintSize="476,60" />
      <sap2010:ViewStateData Id="Cast`1_6" sap:VirtualizedContainerService.HintSize="296,60" />
      <sap2010:ViewStateData Id="Cast`1_7" sap:VirtualizedContainerService.HintSize="296,60" />
      <sap2010:ViewStateData Id="Assign_23" sap:VirtualizedContainerService.HintSize="296,60" />
      <sap2010:ViewStateData Id="Assign_24" sap:VirtualizedContainerService.HintSize="296,60" />
      <sap2010:ViewStateData Id="UpdateGraphicsLayer_7" sap:VirtualizedContainerService.HintSize="296,279">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Sequence_10" sap:VirtualizedContainerService.HintSize="318,648">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_25" sap:VirtualizedContainerService.HintSize="296,60" />
      <sap2010:ViewStateData Id="UpdateGraphicsLayer_8" sap:VirtualizedContainerService.HintSize="296,279">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Sequence_11" sap:VirtualizedContainerService.HintSize="318,357">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_26" sap:VirtualizedContainerService.HintSize="296,60" />
      <sap2010:ViewStateData Id="UpdateGraphicsLayer_9" sap:VirtualizedContainerService.HintSize="296,249">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Sequence_12" sap:VirtualizedContainerService.HintSize="318,357">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Switch`1_1" sap:VirtualizedContainerService.HintSize="476,205">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Sequence_7" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_6" sap:VirtualizedContainerService.HintSize="763,60" />
      <sap2010:ViewStateData Id="ConfigureWorkflowContainer_1" sap:VirtualizedContainerService.HintSize="330,186" />
      <sap2010:ViewStateData Id="GetMapInfo_1" sap:VirtualizedContainerService.HintSize="279,186" />
      <sap2010:ViewStateData Id="Parallel_5" sap:VirtualizedContainerService.HintSize="763,232" />
      <sap2010:ViewStateData Id="Assign_18" sap:VirtualizedContainerService.HintSize="464,60" />
      <sap2010:ViewStateData Id="Assign_4" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="If_4" sap:VirtualizedContainerService.HintSize="464,208" />
      <sap2010:ViewStateData Id="Assign_5" sap:VirtualizedContainerService.HintSize="464,60" />
      <sap2010:ViewStateData Id="Sequence_1" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="DisplayForm_1" sap:VirtualizedContainerService.HintSize="483,666" />
      <sap2010:ViewStateData Id="Parallel_1" sap:VirtualizedContainerService.HintSize="763,712" />
      <sap2010:ViewStateData Id="Assign_3" sap:VirtualizedContainerService.HintSize="763,60" />
      <sap2010:ViewStateData Id="RunExternalCommand_4" sap:VirtualizedContainerService.HintSize="319,86" />
      <sap2010:ViewStateData Id="ExitWorkflow_2" sap:VirtualizedContainerService.HintSize="319,22" />
      <sap2010:ViewStateData Id="Sequence_8" sap:VirtualizedContainerService.HintSize="341,272">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_2" sap:VirtualizedContainerService.HintSize="763,420" />
      <sap2010:ViewStateData Id="Log_2" sap:VirtualizedContainerService.HintSize="763,61" />
      <sap2010:ViewStateData Id="Sequence_2" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Cast`1_3" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Cast`1_1" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="If_1" sap:VirtualizedContainerService.HintSize="509,231">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Cast`1_2" sap:VirtualizedContainerService.HintSize="509,60" />
      <sap2010:ViewStateData Id="Log_3" sap:VirtualizedContainerService.HintSize="509,61" />
      <sap2010:ViewStateData Id="BufferTask_1" sap:VirtualizedContainerService.HintSize="509,284">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_2" sap:VirtualizedContainerService.HintSize="509,60" />
      <sap2010:ViewStateData Id="Sequence_5" sap:VirtualizedContainerService.HintSize="531,980">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="UpdateGraphicsLayer_1" sap:VirtualizedContainerService.HintSize="296,136" />
      <sap2010:ViewStateData Id="Parallel_4" sap:VirtualizedContainerService.HintSize="410,182" />
      <sap2010:ViewStateData Id="Sequence_4" sap:VirtualizedContainerService.HintSize="200,254">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="RunExternalCommand_1" sap:VirtualizedContainerService.HintSize="319,86" />
      <sap2010:ViewStateData Id="Sequence_3" sap:VirtualizedContainerService.HintSize="200,134">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_2">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">540,1623</av:Point>
            <av:Size x:Key="ShapeSize">200,134</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowSwitch`1_2" sap:VirtualizedContainerService.HintSize="111,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">294.5,1416.5</av:Point>
            <av:Size x:Key="ShapeSize">111,87</av:Size>
            <av:PointCollection x:Key="previewConnector">322.25,1503.5 322.25,1533.5 130,1533.5 130,336.5 452.5,336.5 452.5,366.5</av:PointCollection>
            <av:PointCollection x:Key="Default">377.75,1503.5 377.75,1533.5 640,1533.5 640,1623</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_3">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">160,1063</av:Point>
            <av:Size x:Key="ShapeSize">200,254</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">260,1317 260,1347 350,1347 350,1416.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_2" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">375,916.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">375,960 260,960 260,1063</av:PointCollection>
            <av:PointCollection x:Key="FalseConnector">445,960 470,960 470,1386.5 350,1386.5 350,1416.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_5">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">330,814.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">430,865.5 430,895.5 410,895.5 410,916.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ExitWorkflow_1" sap:VirtualizedContainerService.HintSize="200,22">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_4">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">520,509</av:Point>
            <av:Size x:Key="ShapeSize">200,22</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowSwitch`1_1" sap:VirtualizedContainerService.HintSize="71,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">394.5,646.5</av:Point>
            <av:Size x:Key="ShapeSize">71,87</av:Size>
            <av:PointCollection x:Key="previewConnector">412.25,733.5 412.25,763.5 300,763.5 300,840 330,840</av:PointCollection>
            <av:PointCollection x:Key="cancelConnector">465.5,690 620,690 620,531</av:PointCollection>
            <av:PointCollection x:Key="Default">447.75,733.5 447.75,763.5 560,763.5 560,840 530,840</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_1">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">250,504.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">350,555.5 350,585.5 430,585.5 430,646.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_1" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">435,366.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">435,410 350,410 350,504.5</av:PointCollection>
            <x:String x:Key="TrueLabel">Valid Geometry</x:String>
            <x:String x:Key="FalseLabel">No Geometry</x:String>
            <av:PointCollection x:Key="FalseConnector">505,410 620,410 620,509</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_8">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">360,184.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">460,235.5 460,265.5 470,265.5 470,366.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_1" sap:VirtualizedContainerService.HintSize="762,2086">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <av:Point x:Key="ShapeLocation">440,2.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">470,77.5 470,107.5 460,107.5 460,184.5</av:PointCollection>
            <x:Double x:Key="Height">1757</x:Double>
            <x:Double x:Key="Width">748.43000000000018</x:Double>
            <x:Boolean x:Key="IsAnnotationDocked">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ActivityBuilder_1" sap:VirtualizedContainerService.HintSize="802,2166" />
    </sap2010:ViewStateManager>
  </sap2010:WorkflowViewState.ViewStateManager>
</Activity>